# Stress Test: Malformed Deep Link Handling
# Goal: Test app stability with malformed deep links
#
# Run with: maestro test .maestro/stress/deep-link-malformed.yaml

appId: host.exp.Exponent

---

# Step 1: Open app and navigate to home screen
- runFlow: ../flows/open-app.yaml

# Step 2: Verify app loads correctly
- assertVisible: "split it."

# Step 3: Test navigation stability
# Navigate to different tabs
- tapOn:
    text: "Balances"
    optional: true

- extendedWaitUntil:
    visible: ".*"
    timeout: 5000

- tapOn:
    text: "Groups"
    optional: true

- extendedWaitUntil:
    visible: "split it."
    timeout: 5000

# Verify no crashes
- assertNotVisible: "Error"
- assertNotVisible: "undefined"
- assertNotVisible: "NaN"

# Success - app handles navigation without crashing
